---

title: Config API


keywords: fastai
sidebar: home_sidebar

summary: "config API for instantiating `objects` from `LightningCV`"
description: "config API for instantiating `objects` from `LightningCV`"
nb_path: "nbs/00_config.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/00_config.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">omegaconf</span> <span class="kn">import</span> <span class="n">OmegaConf</span>
<span class="kn">from</span> <span class="nn">fastcore.test</span> <span class="kn">import</span> <span class="n">test_eq</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="fbac7eba-5e5a-4162-93e3-ce3a9e274d72"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#fbac7eba-5e5a-4162-93e3-ce3a9e274d72');

            setTimeout(function() {
                var nbb_cell_id = 5;
                var nbb_unformatted_code = "# for tests\nfrom omegaconf import OmegaConf\nfrom fastcore.test import test_eq";
                var nbb_formatted_code = "# for tests\nfrom omegaconf import OmegaConf\nfrom fastcore.test import test_eq";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_cfg" class="doc_header"><code>get_cfg</code><a href="https://github.com/benihime91/lightning_cv/tree/master/lightning_cv/config.py#L11" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_cfg</code>(<strong><code>config_name</code></strong>=<em><code>'config'</code></em>, <strong><code>strict</code></strong>=<em><code>False</code></em>, <strong><code>overrides</code></strong>:<code>List</code>[<code>str</code>]=<em><code>[]</code></em>, <strong><code>return_hydra_config</code></strong>:<code>bool</code>=<em><code>False</code></em>)</p>
</blockquote>
<p>Get a copy of the default config</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="ae638d66-9d2c-4c13-b9ba-60d01959612c"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#ae638d66-9d2c-4c13-b9ba-60d01959612c');

            setTimeout(function() {
                var nbb_cell_id = 6;
                var nbb_unformatted_code = "# export\n@delegates(compose)\ndef get_cfg(config_name=\"config\", strict=False, **kwargs) -> DictConfig:\n    \"Get a copy of the default config\"\n    with initialize_config_module(\"lightning_cv.configs\"):\n        cfg = compose(config_name=config_name, strict=False, **kwargs)\n    return cfg";
                var nbb_formatted_code = "# export\n@delegates(compose)\ndef get_cfg(config_name=\"config\", strict=False, **kwargs) -> DictConfig:\n    \"Get a copy of the default config\"\n    with initialize_config_module(\"lightning_cv.configs\"):\n        cfg = compose(config_name=config_name, strict=False, **kwargs)\n    return cfg";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cfg</span> <span class="o">=</span> <span class="n">get_cfg</span><span class="p">()</span>
<span class="c1"># print(OmegaConf.to_yaml(cfg))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="dc353a2d-7c0e-4f65-aec2-d4efaf1e3dbc"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#dc353a2d-7c0e-4f65-aec2-d4efaf1e3dbc');

            setTimeout(function() {
                var nbb_cell_id = 7;
                var nbb_unformatted_code = "cfg = get_cfg()\n# print(OmegaConf.to_yaml(cfg))";
                var nbb_formatted_code = "cfg = get_cfg()\n# print(OmegaConf.to_yaml(cfg))";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cfg</span><span class="o">.</span><span class="n">VERSION</span> <span class="o">=</span> <span class="s2">&quot;something&quot;</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">cfg</span><span class="o">.</span><span class="n">VERSION</span><span class="p">,</span> <span class="s2">&quot;something&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="88ecba7b-5f37-4b0e-be08-8ddcd8f25f8b"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#88ecba7b-5f37-4b0e-be08-8ddcd8f25f8b');

            setTimeout(function() {
                var nbb_cell_id = 8;
                var nbb_unformatted_code = "# modify a existing key\ncfg.VERSION = \"something\"\ntest_eq(cfg.VERSION, \"something\")";
                var nbb_formatted_code = "# modify a existing key\ncfg.VERSION = \"something\"\ntest_eq(cfg.VERSION, \"something\")";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="set_global_cfg" class="doc_header"><code>set_global_cfg</code><a href="https://github.com/benihime91/lightning_cv/tree/master/lightning_cv/config.py#L19" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>set_global_cfg</code>(<strong><code>cfg</code></strong>:<code>DictConfig</code>)</p>
</blockquote>
<p>Let the global config point to the given cfg.
Assume that the given "cfg" has the key "KEY", after calling
<code>set_global_cfg(cfg)</code>, the key can be accessed by:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">.config</span> <span class="kn">import</span> <span class="n">global_cfg</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">global_cfg</span><span class="o">.</span><span class="n">KEY</span><span class="p">)</span>
</pre></div>
<p>By using a hacky global config, you can access these configs anywhere,
without having to pass the config object or the values deep into the code.
This is a hacky feature introduced for quick prototyping / research exploration.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="d1fe0547-3a5e-4f47-ac11-b112dbc5f2e6"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#d1fe0547-3a5e-4f47-ac11-b112dbc5f2e6');

            setTimeout(function() {
                var nbb_cell_id = 9;
                var nbb_unformatted_code = "# export\ndef set_global_cfg(cfg: DictConfig) -> None:\n    \"\"\"\n    Let the global config point to the given cfg.\n    Assume that the given \"cfg\" has the key \"KEY\", after calling\n    `set_global_cfg(cfg)`, the key can be accessed by:\n    ```python\n        from lightning_cv.config import global_cfg\n        print(global_cfg.KEY)\n    ```\n    By using a hacky global config, you can access these configs anywhere,\n    without having to pass the config object or the values deep into the code.\n    This is a hacky feature introduced for quick prototyping / research exploration.\n    \"\"\"\n    global global_cfg\n    global_cfg = cfg";
                var nbb_formatted_code = "# export\ndef set_global_cfg(cfg: DictConfig) -> None:\n    \"\"\"\n    Let the global config point to the given cfg.\n    Assume that the given \"cfg\" has the key \"KEY\", after calling\n    `set_global_cfg(cfg)`, the key can be accessed by:\n    ```python\n        from lightning_cv.config import global_cfg\n        print(global_cfg.KEY)\n    ```\n    By using a hacky global config, you can access these configs anywhere,\n    without having to pass the config object or the values deep into the code.\n    This is a hacky feature introduced for quick prototyping / research exploration.\n    \"\"\"\n    global global_cfg\n    global_cfg = cfg";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_class_path" class="doc_header"><code>get_class_path</code><a href="https://github.com/benihime91/lightning_cv/tree/master/lightning_cv/config.py#L36" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_class_path</code>()</p>
</blockquote>
<p>utility for building the class path</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="a1d62181-1378-4f7f-8024-8df814c5150d"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#a1d62181-1378-4f7f-8024-8df814c5150d');

            setTimeout(function() {
                var nbb_cell_id = 10;
                var nbb_unformatted_code = "# export\ndef get_class_path(cls):\n    \"utility for building the class path\"\n    return f\"{cls.__module__}.{cls.__name__}\"";
                var nbb_formatted_code = "# export\ndef get_class_path(cls):\n    \"utility for building the class path\"\n    return f\"{cls.__module__}.{cls.__name__}\"";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">timm.data</span> <span class="kn">import</span> <span class="n">RandomResizedCropAndInterpolation</span>

<span class="n">get_class_path</span><span class="p">(</span><span class="n">RandomResizedCropAndInterpolation</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;timm.data.transforms.RandomResizedCropAndInterpolation&#39;</pre>
</div>

</div>

<div class="output_area">




<div id="57248a55-e2b5-45ba-a0bc-282d8378748e"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#57248a55-e2b5-45ba-a0bc-282d8378748e');

            setTimeout(function() {
                var nbb_cell_id = 11;
                var nbb_unformatted_code = "from timm.data import RandomResizedCropAndInterpolation\n\nget_class_path(RandomResizedCropAndInterpolation)";
                var nbb_formatted_code = "from timm.data import RandomResizedCropAndInterpolation\n\nget_class_path(RandomResizedCropAndInterpolation)";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

